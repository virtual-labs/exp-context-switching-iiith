<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Home</title>
    <link rel="stylesheet" href="styles.css">
    <script src="./main.js"></script>
</head>

<body>
    <div id="myModal" class="modal">

        <!-- Modal content -->
        <div class="modal-content" style="border-radius: 15px;">
            <!-- <span class="close">&times;</span> -->
            <p>
            <h1 style="color: red;">Bootstrap the OS</h1>
            <p>
                Bootstrapping the operating system (OS) is the process of initializing a computer's hardware and
                software components to bring the OS into a running state. This process begins when the computer is
                powered on or restarted.

            <h4>Bootstrap first so that we have all our resources initialized.</h4>
            <span class="boot"
                style="width: fit-content; padding: 10px; background-color: dodgerblue; color: white; border-radius:10px;">Bootstrap</span>
            </p>
            </p>
        </div>

    </div>

    <div id="myModal_timer" class="modal_timer">

        <!-- Modal content -->
        <div class="modal-content-t" style="border-radius: 15px;">
            <!-- <span class="close">&times;</span> -->
            <p>
            <h1 style="color: red;">Timer Interrupt</h1>
            <p>

            <h4>You have encountered a timer interrupt.</h4>
            <span class="boot-t"
                style="width: fit-content; padding: 10px; background-color: dodgerblue; color: white; border-radius:10px;">OK</span>
            </p>
            </p>
        </div>

    </div>

    <div id="myModal_read" class="modal_read">

        <!-- Modal content -->
        <div class="modal-content-r" style="border-radius: 15px;">
            <!-- <span class="close">&times;</span> -->
            <p>
            <h1 style="color: red;">Read Interrupt</h1>
            <p>

            <h4>You have encountered a read interrupt.</h4>
            <span class="boot-r"
                style="width: fit-content; padding: 10px; background-color: dodgerblue; color: white; border-radius:10px;">OK</span>
            </p>
            </p>
        </div>

    </div>

    <div id="myModal_exit1" class="modal_exit1">

        <!-- Modal content -->
        <div class="modal-content-ex1" style="border-radius: 15px;">
            <!-- <span class="close">&times;</span> -->
            <p>
            <h1 style="color: red;">Exit Interrupt</h1>
            <p>

            <h4>You have encountered an exit interrupt.</h4>
            <span class="boot-ex1"
                style="width: fit-content; padding: 10px; background-color: dodgerblue; color: white; border-radius:10px;">OK</span>
            </p>
            </p>
        </div>

    </div>

    <div id="myModal_exit2" class="modal_exit2">

        <!-- Modal content -->
        <div class="modal-content-ex2" style="border-radius: 15px;">
            <!-- <span class="close">&times;</span> -->
            <p>
            <h1 style="color: red;">Exit Interrupt</h1>
            <p>

            <h4>You have encountered an exit interrupt.</h4>
            <span class="boot-ex2"
                style="width: fit-content; padding: 10px; background-color: dodgerblue; color: white; border-radius:10px;">OK</span>
            </p>
            </p>
        </div>

    </div>
    <div class="Instructions">
        <p style="font-weight: bolder; color: dodgerBlue; text-align: center;">Instructions</p>
        <hr>
        <p style="padding-left: 10px;">
            1. Please read the theory before starting the experiment.<br>
            2. Follow the instructions in the dialog box to walk through the simulation.<br>
            3. Student can control the simulation using the controls provided in 'Controls' section.<br>
            4. Click on the "Start" button to start the simulation.<br>
        </p>
    </div>
    <div class="container">
        <div class="controls">
            <p style="text-align: center; font-weight: bold">Controls</p>
            <hr>
            <button class="start_simulation" id="start" onclick="bootstrap()">
                Start
            </button>
            <hr>
            <p style="padding-left: 10px" id="cp">Current Process: </p>
            <p style="padding-left: 10px" id="cs">Current subsystem: </p>
            <p style="text-align: center; font-weight: bold">Subsystem instructions</p>
            <div class="Code_instructions">
                <table id="insts">

                </table>
            </div>
            <hr>
            <p style="text-align: center; font-weight: bold">Interrupt Handlers</p>
            <div style="margin-left: 10px; margin-right: 10px;">
                <div style="float: left; width: 50%;">
                    <button class="Itr_btn" id="Timer">Timer</button>
                    <button class="Itr_btn" id="Read">Read</button>
                </div>
                <div style="float: left; width: 50%;">
                    <button class="Itr_btn" id="Exit">Exit</button>
                    <button class="Itr_btn" id="IntIO">Interrupt driven I/O</button>
                </div>
            </div>
        </div>
        <div class="displays">
            <p style="text-align: center; font-weight: bold">Displays</p>
            <hr>

            <div class="modes">
                <div class="tabset">
                    <!-- Tab 1 -->
                    <input type="radio" name="tabset" id="tab1" aria-controls="marzen" checked>
                    <label for="tab1">User <button class="wrapper" id="info_btn">&#8505 <span class="tooltip">User Mode is a privilege level in OS where programs and applications run within restricted
                        access to computer's hardware and system resources.</span></button>
                        </label>
                    <!-- Tab 2 -->
                    <input type="radio" name="tabset" id="tab2" aria-controls="rauchbier">
                    <label for="tab2">Hardware <button class="wrapper" id="info_btn">&#8505
                        <span class="tooltip">Hardware provides the foundation on which the OS operates. It offers the
                            computational power, memory, storage, and I/O capabilities that the OS and applications depend
                            on. The OS, in turn, manages and interacts with this hardware to provide a stable and productive
                            computing environment.</span></button></label>
                    <!-- Tab 3 -->
                    <input type="radio" name="tabset" id="tab3" aria-controls="dunkles">
                    <label for="tab3">Kernel <button class="wrapper" id="info_btn">&#8505
                        <span class="tooltip">Kernel mode, also known as supervisor mode or privileged mode, is the highest
                            privilege level in an operating system. In kernel mode, software has unrestricted access to
                            hardware. This includes tasks like memory management, process scheduling, device driver
                            operation, and handling hardware interrupts.
                        </span></button></label>

                    <div class="tab-panels">
                        <section id="marzen" class="tab-panel">
                            <table id="userProgram">

                            </table>
                        </section>
                        <section id="rauchbier" class="tab-panel">
                            <table id="hardware">

                            </table>
                        </section>
                        <section id="dunkles" class="tab-panel">
                            <table id="Kernel">

                            </table>
                        </section>
                    </div>

                </div>
            </div>
            <div class="btns">
                <button class="control-btn" id="previous" onclick="previous()">Previous</button>
                <button class="control-btn" id="next" onclick="next()">Next</button>
            </div>
            <div>

                <div class="CPU">
                    <p style="text-align: center; font-weight: bold;">CPU <button class="wrapper" id="info_btn">&#8505
                        <span class="tooltip">CPU is the hardware component that carries out the essential computational
                            tasks required by the OS and software applications. The OS manages and coordinates the CPU's
                            activities, ensuring that processes run efficiently, securely, and in accordance with system
                            priorities.</span></button></p>
                    <hr>
                    <table id="CPU">

                    </table>
                </div>
                <div class="Memory">
                    <div class="tabset1">
                        <!-- Tab 1 -->
                        <input type="radio" name="tabset1" id="tab_kstackA" aria-controls="k_A" checked>
                        <label for="tab_kstackA">k-stack A <button class="wrapper" id="info_btn">&#8505
                            <span class="tooltip">The kernel stack contains data related to the execution of kernel-level
                                functions and system calls. It includes information such as return addresses, function
                                parameters, and local variables of kernel functions. This particular K-Stack belongs to process
                                A.</span></button></label>
                        <!-- Tab 2 -->
                        <input type="radio" name="tabset1" id="tab_kstackB" aria-controls="k_B">
                        <label for="tab_kstackB">k-stack B <button class="wrapper" id="info_btn">&#8505
                            <span class="tooltip">The kernel stack contains data related to the execution of kernel-level
                                functions and system calls. It includes information such as return addresses, function
                                parameters, and local variables of kernel functions. This particular K-Stack belongs to process
                                B.</span></button></label>
                        <!-- Tab 3 -->
                        <input type="radio" name="tabset1" id="tab_pcbA" aria-controls="p_A">
                        <label for="tab_pcbA">pcb-A <button class="wrapper" id="info_btn">&#8505
                            <span class="tooltip">PCB serves as a central repository of process-specific information required
                                for process management and scheduling. The PCB contains a wide range of information about a
                                process or thread, including its program counter (PC), CPU registers, process state, process ID,
                                scheduling information, memory management data, and I/O status. This PCB belongs to process
                                A.</span></button></label>
                        <!--Tab 4-->
                        <input type="radio" name="tabset1" id="tab_pcbB" aria-controls="p_B">
                        <label for="tab_pcbB">pcb-B <button class="wrapper" id="info_btn">&#8505
                            <span class="tooltip">PCB serves as a central repository of process-specific information required
                                for process management and scheduling. The PCB contains a wide range of information about a
                                process or thread, including its program counter (PC), CPU registers, process state, process ID,
                                scheduling information, memory management data, and I/O status. This PCB belongs to process
                                B.</span></button></label>

                        <div class="tab-panels1">
                            <section id="k_A" class="tab-panel1">
                                <table id="kStackA">

                                </table>
                            </section>
                            <section id="k_B" class="tab-panel1">
                                <table id="kStackB">

                                </table>
                            </section>
                            <section id="p_A" class="tab-panel1">
                                <table id="pcbA">

                                </table>
                            </section>
                            <section id="p_B" class="tab-panel1">
                                <table id="pcbB">

                                </table>
                            </section>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="dialog-box">
            <p style="text-align: center; font-weight: bold;">Dialog</p>
            <hr>
            <table id="dialog">
                <tr>
                    <td class="msg">&#128203 Click the "Start" button in the 'Controls' section.</td>
                </tr>
            </table>
        </div>
    </div>
    <div class="container3">
        <h2>Know what's happening</h2>
        <section class="accordion">
            <input type="checkbox" name="collapse2" id="handle1">
            <h2 class="handle">
                <label for="handle1">Introduction</label>
            </h2>
            <div class="content">
                <p><strong>Objective:</strong> <br>
                    Our objective in this experiment is to understand the mechanism of context switching used by
                    the OS for multi processing.
                    In this simulation, we approach the context switching technique at a three level abstraction (User,
                    Hardware and Kernel).

                </p>
                <p>
                <p><strong>Intuition:</strong><br>Consider we have only two programs in the system. You are to observe the instruction given in the dialog box and respond
                    with the corresponding
                    action in the simulation above.</p>
                <p>Observe the control flow between the user state, hardware and the kernel mode and how the CPU
                    and other resources get's updated accordingly.</p>
                </p>
                
                <p><strong>Apparatus:</strong> <br>
                    1. User<br>
                    2. Hardware<br>
                    3. Kernel<br>
                    4. CPU<br>
                    5. Kernel Stack (k-stack)<br>
                    6. Process Control Block (PCB)<br>
                    7. Interrupt Handlers<br>
                </p>
            </div>
        </section>
        <section class="accordion">
            <input type="checkbox" name="collapse2" id="handle6">
            <h2 class="handle">
                <label for="handle6">Procedure</label>
            </h2>
            <div class="content">
                <p>1. Read the primary instructions provided at the top of the page. <br>
                2. Follow the instructions provided in the dialogue box to go through the mechanism.<br>
                3. Click on the 'Start' button and then bootstrap the OS.<br>
                4. Once the program is loaded in User, use the next and previous buttons to tranverse through the process.<br>
                5. Follow the prompts given in the dialogue box at every step to handle the traps and interrupts during the execution of the process.</p>
            </div>
        </section>
        <section class="accordion">
            <input type="checkbox" name="collapse2" id="handle2">
            <h2 class="handle">
                <label for="handle2">Theory</label>
            </h2>
            <div class="content">
                <p><strong>What is context?</strong><br> The term "context" refers to the state
                    and information associated with a process or thread at a specific point in time. It
                    encompasses various aspects of the process's execution environment, including its program
                    counter, register values, memory allocation, and other relevant data. It provides
                    all the necessary information for the operating system to save and later restore the
                    process's execution when it is preempted or needs to be resumed.</p>
                <p><strong>How is context different from PCB?:</strong> <br>
                    While context and PCB both deal with process management and are closely related, they serve
                    different purposes and exist at different levels of abstraction.
                    Context is about saving and restoring the immediate execution state of a process or thread
                    during context switches, while the PCB is a data structure used to maintain comprehensive
                    information about a process or thread over its entire lifetime and is used for higher-level
                    process management within the operating system.</p>
            </div>
        </section>
        <section class="accordion">
            <input type="checkbox" name="collapse2" id="handle3">
            <h2 class="handle">
                <label for="handle3">Programs used</label>
            </h2>
            <div class="content">
                <p><strong>Program A: Simple addition program</strong>
                <pre>
<code>
#include <stdio.h>
int main()
{
    int a, b, c;
    a = 5;
    b = 10;
    c = a + b;
    return c;
}
</code>
</pre>
                </p>
                <p><strong>Program B: Read and add program</strong>
                <pre>
<code>
#include <stdio.h>
int main()
{
    int a, b, c;
    a = 15;
    scanf("%d", &b); 
    c = a + b;
    return c;
}
</code>
</pre>
                </p>
            </div>
        </section>

        <section class="accordion">
            <input type="checkbox" name="collapse2" id="handle4">
            <h2 class="handle">
                <label for="handle4">Context switching in linux</label>
            </h2>
            <div class="content">
                <p>
                    Here are few commands that will help you understand the context switching in linux OS.
                <pre>
<code>
$ grep ctxt /proc/$pid/status
</code>
</pre>
                The above command will give you the number of context switches that have happened for the process with
                the given pid. You can get the pid of a process using the following command.
                <pre>
<code>
$ htop
</code></pre>
                Another good way to inspect a process on your system is using the <code>vmstat</code> command. This will
                give you a detailed overview of the number of context switches, number of interrupts, and further
                information like the cache used etc.

                </p>
            </div>
        </section>


        <section class="accordion">
            <input type="checkbox" name="collapse2" id="handle5">
            <h2 class="handle">
                <label for="handle5">References</label>
            </h2>
            <div class="content">
                <a href="https://docs.kernel.org/" target="_blank">Linux documentation</a><br>
                <a href="https://en.wikipedia.org/wiki/Context_switch" target="_blank">Wikipedia</a><br>
                <a href="https://pages.cs.wisc.edu/~remzi/OSTEP/" target="_blank">Remzi-threeEasyPieces</a><br>
                <a href="https://drive.uqu.edu.sa/_/mskhayat/files/MySubjects/2017SS%20Operating%20Systems/Abraham%20Silberschatz-Operating%20System%20Concepts%20(9th,2012_12).pdf"
                    target="_blank">OS
                    by Silberschatz</a><br>
                <a href="https://github.com/torvalds/linux" target="_blank">Linux github Repo</a>
            </div>
        </section>


    </div>

</body>

</html>
